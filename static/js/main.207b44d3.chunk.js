(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,a){e.exports=a(197)},193:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(170),m=a.n(r),c=(a(193),a(194),a(135)),i=a(13),s=a(216),o=a(213),p=a(208),d=a(209),u=a(215),E=a(64),g=a(210),y=a(211),h=a(217),x=a(183),b=a(133),A=a(212),f=a(214),I=a(179),k=a(123);const{Option:v}=b.a;var w=e=>{let{addExpense:t,participantsList:a}=e;const[n]=A.a.useForm();return l.a.createElement(A.a,{form:n,layout:"vertical",onFinish:e=>{const{payer:a,amount:l,item:r,participants:m}=e;t({payer:a,amount:l,item:r,participants:m}),n.resetFields()}},l.a.createElement(A.a.Item,{name:"payer",label:"\u4ed8\u6b3e\u4eba",rules:[{required:!0,message:"\u8acb\u9078\u64c7\u4ed8\u6b3e\u4eba"}]},l.a.createElement(b.a,{placeholder:"\u8acb\u9078\u64c7\u4ed8\u6b3e\u4eba"},a.map(e=>l.a.createElement(v,{key:e,value:e},e)))),l.a.createElement(A.a.Item,{name:"amount",label:"\u91d1\u984d",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u91d1\u984d"}]},l.a.createElement(f.a,{min:0,style:{width:"100%"}})),l.a.createElement(A.a.Item,{name:"item",label:"\u9805\u76ee",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u9805\u76ee"}]},l.a.createElement(I.a,null)),l.a.createElement(A.a.Item,{name:"participants",label:"\u5206\u6524\u4eba",rules:[{required:!0,message:"\u8acb\u9078\u64c7\u5206\u6524\u4eba"}]},l.a.createElement(k.a.Group,{options:a})),l.a.createElement(A.a.Item,null,l.a.createElement(E.a,{type:"primary",htmlType:"submit"},"\u5132\u5b58")))};const{Header:F,Content:C,Footer:O}=s.a,{Title:S}=o.a,j=e=>new Intl.NumberFormat("zh-TW",{style:"decimal",maximumFractionDigits:0}).format(e);var L=e=>{let{expenses:t,addExpense:a,participantsList:r}=e;const[m,c]=Object(n.useState)(!1),o=Object(n.useMemo)(()=>t.reduce((e,t)=>e+parseFloat(t.amount),0),[t]),b=[{title:"\u4ed8\u6b3e\u4eba",dataIndex:"payer",key:"payer"},{title:"\u91d1\u984d",dataIndex:"amount",key:"amount",render:e=>j(e)},{title:"\u9805\u76ee",dataIndex:"item",key:"item"},{title:"\u5206\u6524\u4eba",dataIndex:"participants",key:"participants",render:e=>e.join(", ")}],A=Object(i.o)();return l.a.createElement(s.a,{style:{minHeight:"100vh"}},l.a.createElement(F,{className:"header"},l.a.createElement(p.a,{align:"middle"},l.a.createElement(d.a,null,l.a.createElement(p.a,{gutter:[8,0],align:"middle"},l.a.createElement(d.a,null,l.a.createElement("img",{src:"/react-expense-calculator/header-logo.png",alt:"Logo",style:{height:"24px"}})),l.a.createElement(d.a,null,l.a.createElement(S,{level:4,style:{color:"white",margin:0}},"\u5206\u5e33\u5c0f\u5e6b\u624b")))),l.a.createElement(d.a,null,l.a.createElement("p",{style:{color:"rgb(153 153 153)",fontSize:"12px",margin:0,paddingLeft:"8px",paddingTop:"8px"}},"Made with React")))),l.a.createElement(s.a,{style:{padding:"0 24px 24px"}},l.a.createElement(C,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},l.a.createElement("h2",null,"\u5718\u54e1\u5217\u8868"),l.a.createElement(u.a.Group,{size:"large"},r.map(e=>l.a.createElement(u.a,{key:e,style:{backgroundColor:"#f56a00"}},e))),l.a.createElement("h2",{style:{margin:"40px 0px 15px"}},"\u8a18\u5e33\u7d71\u8a08"),l.a.createElement(p.a,{justify:"space-between",align:"middle",style:{margin:"10px 0px"}},l.a.createElement(d.a,null,l.a.createElement("p",null,"\u7e3d\u8a08: $",j(o))),l.a.createElement(d.a,null,l.a.createElement(E.a,{type:"primary",icon:l.a.createElement(h.a,null),onClick:()=>c(!0)},"\u65b0\u589e\u8a18\u5e33"))),l.a.createElement(g.a,{columns:b,dataSource:t.map((e,t)=>({...e,key:t}))})),t.length>0&&l.a.createElement(O,{style:{textAlign:"center"}},l.a.createElement(E.a,{type:"primary",icon:l.a.createElement(x.a,null),onClick:()=>{console.log("\u9032\u884c\u7d50\u7b97"),A("/settlement")}},"\u7d50\u7b97"))),l.a.createElement(y.a,{title:"\u8a18\u5e33\u8f38\u5165",open:m,footer:null,onCancel:()=>c(!1)},l.a.createElement(w,{addExpense:e=>{a(e),c(!1)},participantsList:r})))},T=a(218);const{Header:N,Content:M}=s.a,{Title:H}=o.a,R=e=>new Intl.NumberFormat("zh-TW",{style:"decimal",maximumFractionDigits:0}).format(e);var q=e=>{let{expenses:t,participants:a}=e;const r=Object(i.o)(),m=Object(n.useMemo)(()=>{const e=a.map(e=>({member:e,sharedAmount:0,paidAmount:0,balanceAmount:0}));return t.forEach(t=>{const a=t.payer,n=parseFloat(t.amount),l=n/t.participants.length;t.participants.forEach(t=>{const a=e.findIndex(e=>e.member===t);-1!==a&&(e[a].sharedAmount+=l)});const r=e.findIndex(e=>e.member===a);-1!==r&&(e[r].paidAmount+=n)}),e.map(e=>({...e,sharedAmount:Math.round(e.sharedAmount),paidAmount:Math.round(e.paidAmount),balanceAmount:Math.round(e.sharedAmount-e.paidAmount)}))},[t,a]),c=[{title:"\u6210\u54e1",dataIndex:"member",key:"member"},{title:"\u5206\u6524\u91d1\u984d",dataIndex:"sharedAmount",key:"sharedAmount",render:e=>l.a.createElement("div",{style:{textAlign:"right",paddingRight:"10px"}},R(e))},{title:"\u4ee3\u4ed8\u91d1\u984d",dataIndex:"paidAmount",key:"paidAmount",render:e=>l.a.createElement("div",{style:{textAlign:"right",paddingRight:"10px"}},R(e))},{title:"\u61c9\u4ed8\u91d1\u984d",dataIndex:"balanceAmount",key:"balanceAmount",render:e=>l.a.createElement("div",{style:{color:e<=0?"green":"red",textAlign:"right",paddingRight:"10px"}},R(e))}];return l.a.createElement(s.a,{style:{minHeight:"100vh"}},l.a.createElement(N,{className:"header"},l.a.createElement(p.a,{align:"middle"},l.a.createElement(d.a,null,l.a.createElement("img",{src:"/react-expense-calculator/header-logo.png",alt:"Logo",style:{height:"24px"}})),l.a.createElement(d.a,null,l.a.createElement(H,{level:4,style:{color:"white",padding:"4px",margin:0}},"\u5206\u5e33\u5c0f\u5e6b\u624b")))),l.a.createElement(s.a,{style:{padding:"0 24px 24px"}},l.a.createElement(M,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},l.a.createElement("h2",null,"\u7d50\u7b97\u9801\u9762"),l.a.createElement(g.a,{columns:c,dataSource:m,rowKey:"member",pagination:!1}),l.a.createElement(E.a,{type:"primary",icon:l.a.createElement(T.a,null),onClick:()=>r("/"),style:{marginTop:16}},"\u8fd4\u56de\u9996\u9801"))))};const z=["A","B","C","D","E"];var D=()=>{const[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("expenses"))||[];t(e)},[]),Object(n.useEffect)(()=>{localStorage.setItem("expenses",JSON.stringify(e))},[e]);return l.a.createElement(c.a,{basename:"/react-expense-calculator"},l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(L,{expenses:e,setExpenses:t,addExpense:e=>{t(t=>[...t,e])},participantsList:z})}),l.a.createElement(i.a,{path:"/settlement",element:l.a.createElement(q,{expenses:e,participants:z})})))};var J=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,219)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:m}=t;a(e),n(e),l(e),r(e),m(e)})};m.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null))),J()}},[[186,1,2]]]);
//# sourceMappingURL=main.207b44d3.chunk.js.map